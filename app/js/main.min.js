var CountryInfo=document.querySelector(".country-value"),CountryList=CountryInfo.querySelectorAll("optgroup"),optionList=[];function SearchCountryFrom(e){const t=document.querySelectorAll(".choices__item--selectable"),n=document.querySelector(".search__input"),o=document.querySelector(".search__btn");CountryList.forEach(((e,r)=>{optionList[r].forEach(((r,c)=>{r.innerHTML==t[0].innerHTML&&(n.value=e.getAttribute("label"),o.click())}))}))}function SearchCountryTo(e){const t=document.querySelectorAll(".choices__item--selectable"),n=document.querySelector(".search__input"),o=document.querySelector(".search__btn");CountryList.forEach(((e,r)=>{optionList[r].forEach(((r,c)=>{r.innerHTML==t[1].innerHTML&&(n.value=e.getAttribute("label"),o.click())}))}))}CountryList.forEach(((e,t)=>{var n=e.querySelectorAll("option");optionList.push(n)})),flatpickr("#calendar1",{dateFormat:"Y-m-d",altInput:!0,altFormat:"j M",minDate:"today",maxDate:(new Date).fp_incr(30),disable:[function(e){return 0===e.getDay()}],locale:"ru"}),flatpickr("#calendar2",{dateFormat:"Y-m-d",altInput:!0,altFormat:"j M",minDate:"today",maxDate:(new Date).fp_incr(60),disable:[function(e){return 0===e.getDay()}],locale:"ru"}),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".routes__form-town"),t=document.querySelector(".routes__form-replace"),n=[],o=new Choices(e[0],{itemSelectText:"",position:"bottom",maxItemCount:1,editItems:!0,searchPlaceholderValue:"",placeholderValue:"Москва",noResultsText:"Ничего не найдено",position:"auto",classNames:{containerOuter:"townfrom",listItems:"townfrom__list--multiple",listDropdown:"townfrom__list--dropdown"},maxItemText:e=>"<a href='#search' class='choice-link' onclick=\"SearchCountryFrom(this)\">Искать на карте<a>"}),r=new Choices(e[1],{itemSelectText:"",position:"bottom",maxItemCount:1,editItems:!0,searchPlaceholderValue:"",placeholderValue:"Париж",noResultsText:"Ничего не найдено",position:"auto",classNames:{containerOuter:"townfrom",listItems:"townfrom__list--multiple",listDropdown:"townfrom__list--dropdown"},maxItemText:e=>"<a href='#search' class='choice-link' onclick=\"SearchCountryTo(this)\">Искать на карте<a>"});n.push(o),n.push(r);const c=document.querySelectorAll(".townfrom__list--multiple");t.addEventListener("click",(function(e){if(e.preventDefault(),c[0].childElementCount>0&&c[1].childElementCount>0){var t=n[0].getValue(!0);n[0].removeActiveItems(),n[0].setChoiceByValue(n[1].getValue(!0)),n[1].removeActiveItems(),n[1].setChoiceByValue(t)}})),e.forEach(((e,t)=>{e.addEventListener("addItem",(function(e){const n=document.querySelectorAll(".choices__input--cloned");n[t].setAttribute("placeholder"," "),n[t].setAttribute("readonly","readonly")}))})),e.forEach(((e,t)=>{e.addEventListener("removeItem",(function(e){const o=document.querySelectorAll(".choices__input--cloned");o[t].setAttribute("placeholder","Москва"),n[t].enable(),o[t].removeAttribute("readonly")}))}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".routes__form-output"),t=document.querySelector(".routes__form-window");e.addEventListener("click",(function(){t.classList.toggle("routes__form-window--active"),this.classList.toggle("routes__form-output--active")})),document.addEventListener("click",(function(n){t.contains(n.target)||e.contains(n.target)||(t.classList.remove("routes__form-window--active"),e.classList.remove("routes__form-output--active"))}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".minus"),t=document.querySelectorAll(".plus"),n=document.querySelectorAll(".counter__number"),o=document.querySelector(".output__passenger"),r=Array.from(n).map((e=>e.innerHTML));let c=0;function l(e){return 1==e?o.innerHTML=`${e} пассажир`:1<e&&e<5?o.innerHTML=`${e} пассажира`:e>4?o.innerHTML=`${e} пассажиров`:void 0}r.forEach((e=>{c+=Number(e)})),l(c),e.forEach(((o,s)=>{o.addEventListener("click",(function(){0==s?(r[s]<=2&&e[s].classList.add("minus--disabled"),r[s]>1&&(--r[s],n[s].innerHTML=r[s],--c,l(c),t.forEach((e=>{e.classList.remove("plus--disabled")})),r[2]>=r[0]&&t[2].classList.add("plus--disabled")),r[s]<r[2]&&(--r[2],n[2].innerHTML=r[2],--c,l(c)),r[s]==r[2]&&t[2].classList.add("plus--active")):(r[s]<=1&&e[s].classList.add("minus--disabled"),r[s]>0&&(--r[s],n[s].innerHTML=r[s],--c,l(c),t.forEach((e=>{e.classList.remove("plus--disabled")})),r[2]>=r[0]&&t[2].classList.add("plus--disabled"),2==s&&t[2].classList.remove("plus--active")))}))})),t.forEach(((o,s)=>{o.addEventListener("click",(function(){2==s?(9==c&&t.forEach((e=>{e.classList.add("plus--disabled")})),r[s]<=r[0]-1&&c<=9&&(++r[s],n[s].innerHTML=r[s],++c,l(c),e[s].classList.remove("minus--disabled")),r[s]>=r[0]&&(t[s].classList.add("plus--active"),t[s].classList.add("plus--disabled"))):(c<=9&&(++r[s],n[s].innerHTML=r[s],++c,l(c),e[s].classList.remove("minus--disabled"),0==s&&(t[2].classList.remove("plus--active"),t[2].classList.remove("plus--disabled"))),10==c&&t.forEach((e=>{e.classList.add("plus--disabled")})))}))}))}));const OutputClass=document.querySelector(".output__class");function CheckValue(){document.querySelectorAll(".choice__radio").forEach((e=>{e.checked&&(OutputClass.innerHTML=e.value)}))}function CheckType(e){OutputClass.innerHTML=e.value}CheckValue(),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".search");e.addEventListener("mousemove",(t=>{Object.assign(document.documentElement,{style:`\n                --move-x: ${t.pageX-e.offsetLeft}px;\n                --move-y: ${t.pageY-e.offsetTop}px;\n            `})})),function(){const t=document.querySelectorAll("path"),n=document.querySelector(".search__cursor"),o=document.querySelector(".search__left-title"),r=document.querySelector(".search__left-text"),c=document.querySelector(".search__wrapper-capital"),l=document.querySelector(".search__wrapper-population"),s=document.querySelector(".search__left-link"),i=document.querySelector(".search__location"),a=document.querySelector(".search__btn");t.forEach((s=>{var u=s.getAttribute("value"),d=s.getAttribute("country"),m=document.querySelector(`.country-${d}`);s.addEventListener("mouseover",(function(){u&&(n.style.display="block",n.innerHTML=u)})),s.addEventListener("mouseout",(function(){n.style.display="none"})),s.addEventListener("click",(function(n){t.forEach((e=>{e.style.fill="#A2A3A5"})),s.style.fill="#F5D152",o.innerHTML=u,r.innerHTML=m.querySelector(".text").innerHTML,c.innerHTML=m.querySelector(".capital").innerHTML,l.innerHTML=m.querySelector(".population").innerHTML,i.style.display="block",i.style.left=n.pageX-e.offsetLeft-7+"px",i.style.top=n.pageY-e.offsetTop-15+"px",document.querySelector(".search__input").value=u})),a.addEventListener("click",(function(e){e.preventDefault();document.querySelector(".search__input").value==u&&(t.forEach((e=>{e.style.fill="#A2A3A5"})),s.style.fill="#F5D152",o.innerHTML=u,r.innerHTML=m.querySelector(".text").innerHTML,c.innerHTML=m.querySelector(".capital").innerHTML,l.innerHTML=m.querySelector(".population").innerHTML,i.style.display="none")}))})),s.addEventListener("click",(function(e){e.preventDefault(),this.classList.toggle("search__left-link--active"),this.innerHTML="Читать еще",this.classList.contains("search__left-link--active")&&(this.innerHTML="Скрыть"),r.classList.toggle("search__left-text--active")}))}()})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".answer__list-title"),t=document.querySelectorAll(".answer__list-text");e.forEach(((n,o)=>{n.addEventListener("click",(function(r){e.forEach(((n,r)=>{r!==o&&(e[r].classList.remove("answer__list-title--active"),t[r].classList.remove("answer__list-text--active"))})),n.classList.toggle("answer__list-title--active"),t[o].classList.toggle("answer__list-text--active")}))}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".burger"),t=document.querySelector(".menu");e.addEventListener("click",(function(n){n.preventDefault(),e.classList.toggle("burger--active"),t.classList.toggle("menu--active")}))}));